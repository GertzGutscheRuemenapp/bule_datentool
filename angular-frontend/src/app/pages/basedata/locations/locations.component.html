<div fxLayout="row wrap">
  <div fxLayout="column" fxFlex="350px">
    <app-input-card [title]="'Infrastrukturen'"
                    infoText="Platzhalter Erklärung: Infrastruktur auswählen, erzeugt woanders (Administration)"
                    subtitle="Untertitel??">
      <mat-selection-list [multiple]="false"
                          id="infrastructure-select">
        <mat-list-option *ngFor="let infrastructure of infrastructures"
                         (click)="selectedInfrastructure = infrastructure"
                         [selected]="(infrastructure === selectedInfrastructure)">
          <div class="option-text">{{infrastructure}}</div>
        </mat-list-option>
      </mat-selection-list>
      <div after>
        <mat-divider style="margin: 10px 0 15px 0;"></mat-divider>
        <app-input-card [title]="'Standortattribute'"
                        [borderless]="true"
                        [editTemplate]="attributesEdit"
                        [subtitle]="selectedInfrastructure"
                        infoText="Platzhalter: verfügbare Felder der Standorte, die beim Upload zugewiesen werden können">
          <table>
            <tr>
              <td>Name</td>
              <td>Zeichenkette</td>
            </tr>
            <tr>
              <td>Zustand</td>
              <td>Zustand</td>
            </tr>
            <tr>
              <td>Schultyp</td>
              <td>Schultyp</td>
            </tr>
            <tr>
              <td>Budget</td>
              <td>Budget</td>
            </tr>
          </table>
        </app-input-card>
      </div>
    </app-input-card>
  </div>
  <div fxLayout="column" fxFlex="1100px">
    <app-input-card [title]="'Standortdaten'"
                    infoText="Platzhalter: Als befüllte Vorlage hochladen und/oder über Karte editieren, Standort auf Karte auswählen, setzen">
      <div style="width: 100%; display: flex;">
        <div style="width: 50%; align-self: start;">
          <span class="subtitle1"
                style="color: #00000061;">
            {{selectedInfrastructure}}
          </span>
          <div style="display: flex; margin-top: 15px;">
            <table>
              <tr>
                <td i18n>Standorte</td>
                <td>102</td>
              </tr>
              <tr>
                <td i18n>Upload am</td>
                <td>02.06.2022</td>
              </tr>
            </table>
            <table style="margin-left: 20px;">
              <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
              <tr>
                <td i18n>durch</td>
                <td>Sascha Schmidt</td>
              </tr>
            </table>
          </div>
          <div style="margin: 20px 0 10px 0;">
            <button mat-stroked-button color="primary" style="margin-right: 10px;">
              <mat-icon>download</mat-icon> Template
            </button>
            <button mat-flat-button color="primary">
              <mat-icon>upload</mat-icon> Daten hochladen
            </button>
          </div>
          <button class="mat-button-dv"
                  mat-button color="primary" i18n>
            <mat-icon class="material-icons-outlined">table_chart</mat-icon> Datentabelle ansehen
          </button>
          <button mat-mini-fab color="primary"
                  aria-label="Daten herunterladen" title="Daten herunterladen"
                  style="float: right; margin: -10px 15px 0 0; box-shadow: none;">
            <mat-icon>download</mat-icon>
          </button>
        </div>
        <div id="log-window" style="width: 50%">
          <app-log></app-log>
        </div>
      </div>
      <div id="base-locations-map" class="map-container">
        <app-map-controls></app-map-controls>
        <app-side-toggle id="legend"
                         icon="layers"
                         direction="left">
          <app-legend target="base-locations-map"></app-legend>
        </app-side-toggle>
        <app-side-toggle id="add-overlay" icon="add_location_alt">
          <div class="row-button" [ngClass]="{'active': addPlaceMode}" (click)="addPlaceMode = !addPlaceMode" style="padding-left: 10px;">
            <label i18n>Neuen Standort hinzufügen</label>
            <div class="fill-space"></div>
            <button color="primary" *ngIf="!addPlaceMode" mat-icon-button>
              <mat-icon class="material-icons-outlined">add_location_alt</mat-icon>
            </button>
            <button color="primary" *ngIf="addPlaceMode" mat-mini-fab style="box-shadow: none; margin-left: auto;">
              <mat-icon class="material-icons-outlined">add_location_alt</mat-icon>
            </button>
          </div>
        </app-side-toggle>
      </div>
    </app-input-card>
  </div>
</div>

<ng-template #attributesEdit>
  ToDo
</ng-template>
