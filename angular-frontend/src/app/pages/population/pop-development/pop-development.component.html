<mat-sidenav #drawer class="context-bar"
             [opened]="(isSM$ | async) === false">
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="mini-fab-icon">
          <mat-icon class="material-icons-outlined">flip_to_front</mat-icon>
        </div>
        Gebietseinheit
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-form-field appearance="outline" class="small">
      <mat-select disableOptionCentering [value]="areaLevels[0]">
        <mat-option [value]="areaLevel" *ngFor="let areaLevel of areaLevels">
          {{areaLevel.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-expansion-panel>
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="mini-fab-icon">
          <mat-icon class="material-icons-outlined">auto_graph</mat-icon>
        </div>
        Prognoseszenario
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-form-field appearance="outline" class="small">
      <mat-select disableOptionCentering value="Trendfortschreibung">
        <mat-option value="Trendfortschreibung">
          Trendfortschreibung
        </mat-option>
        <mat-option value="Prognose">
          Prognose
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-expansion-panel>
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="mini-fab-icon">
          <mat-icon class="material-icons-outlined">group</mat-icon>
        </div>
        Bevölkerungsgruppen
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-form-field appearance="outline" class="small">
      <mat-label i18n>Geschlecht</mat-label>
      <mat-select disableOptionCentering value="alle">
        <mat-option value="alle">
          alle
        </mat-option>
        <mat-option value="männlich">
          männlich
        </mat-option>
        <mat-option value="weiblich">
          weiblich
        </mat-option>
        <mat-option value="divers">
          divers
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="sub-select-box">
      <span style="color: grey;" class="subtitle1" i18n> Enthaltene Altersgruppen </span>
      <button mat-icon-button color="primary"
              style="position: absolute; right: 10px; margin-top: -8px;"
              (click)="editAgeGroups()">
        <mat-icon>edit</mat-icon>
      </button>
      <div class="border-box" style="margin-top: 10px">
        <mat-checkbox class="reverse" color="primary" [checked]="true">alle</mat-checkbox>
        <mat-divider style="margin-bottom: 10px;"></mat-divider>
        <mat-checkbox class="reverse" color="primary" [checked]="true">0 bis unter 19 Jahre</mat-checkbox>
        <mat-checkbox class="reverse" color="primary" [checked]="true">10 bis unter 40 Jahre</mat-checkbox>
        <mat-checkbox class="reverse" color="primary" [checked]="true">40 bis unter 60 Jahre</mat-checkbox>
        <mat-checkbox class="reverse" color="primary" [checked]="false">65 Jahre und älter</mat-checkbox>
      </div>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="mini-fab-icon">
          <div class="davicon icon-GGR-davicons-Font-Simple-4-Vergleichsdarstellung"></div>
        </div>
        Vergleichsdarstellung
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-checkbox color="primary" [(ngModel)]="compareYears" style="margin-bottom: 10px; width: 200px;"
                  i18n>Bevölkerungsstruktur vergleichen</mat-checkbox> <!--style="margin: 0 0 10px -12px;"-->
    <mat-form-field appearance="outline" class="small">
      <mat-label>Jahr</mat-label>
      <mat-select disableOptionCentering [value]="years[0]" [disabled]="!compareYears">
        <mat-option *ngFor="let year of years" [value]="year">
          {{year}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-expansion-panel>
</mat-sidenav>
<button type="button"
        id="toggle-settings"
        aria-label="Toggle sidenav"
        mat-icon-button
        color="primary"
        (click)="drawer.toggle()"
        *ngIf="isSM$ | async">
  <mat-icon aria-label="Side nav toggle icon">arrow_circle_down</mat-icon>
</button>

<div id="diagram-bar">
  <mat-form-field appearance="outline" class="small">
    <mat-label>Gebiet</mat-label>
    <mat-select disableOptionCentering value="irgendwo">
      <mat-option value="irgendwo">
        irgendwo
      </mat-option>
    </mat-select>
  </mat-form-field>
  <br>
  <div class="diagram-wrapper">
    <div>
      <app-stacked-barchart [data]="data"
                            [labels]="labels"
                            xLabel="Jahre"
                            yLabel="Einwohner"
                            [title]="'Bevölkerungsentwicklung'"
                            [xSeparator]="xSeparator"
                            [animate]="true"
                            subtitle="irgendwo">
      </app-stacked-barchart>
    </div>
  </div>
  <div class="diagram-wrapper">
    <div>
      <app-multiline-chart #lineChart
                           [labels]="labels"
                           xLabel="Jahre"
                           yLabel="Einwohner relativ"
                           [title]="'relative Altersgruppenentwicklung'"
                           [xSeparator]="xSeparator"
                           [animate]="true"
                           unit="%"
                           subtitle="irgendwo">
      </app-multiline-chart>
    </div>
  </div>
</div>


<ng-template #ageGroupTemplate>
  <i>Funktionalität des Altersgruppen-Sliders noch nicht implementiert</i>
  <div style="margin-top: 10px;">
    <button mat-button color="primary"
            class="mat-button-dv"
            title="Altersgruppe hinzufügen">
      <mat-icon>add</mat-icon>hinzufügen
    </button>
    <button mat-button color="primary"
            style="margin-left: 40px;"
            class="mat-button-dv"
            title="Altersgruppe entfernen">
      <mat-icon>close</mat-icon>entfernen
    </button>
  </div>
  <mat-divider style="margin: 10px 0;"></mat-divider>
  <span class="subtitle1 sub" i18n>
    ausgewählte Altersgrenzen
  </span>
  <div class="border-box">
    0 bis unter 19 Jahre <br>
    10 bis unter 40 Jahre <br>
    40 bis unter 60 Jahre <br>
    65 Jahre und älter
  </div>
</ng-template>
