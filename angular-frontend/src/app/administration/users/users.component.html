<div class="grid-container">
  <mat-grid-list  cols="{{ ( layout | async )?.columns }}" rowHeight="350px">
    <mat-grid-tile [colspan]="( layout | async )!.userList.cols" [rowspan]="( layout | async )!.userList.rows">
      <app-dash-card title="Benutzerkonten">
        <ul class="users">
          <li *ngFor="let user of users"
              [class.superuser]="user.isSuperuser"
              [class.selected]="selectedUser && (user.id === selectedUser.id)"
              (click)="onSelect(user)">
            <span class="badge">{{user.id}}</span> {{user.userName}}
          </li>
        </ul>
        <button *ngIf="selectedUser && !selectedUser.isSuperuser" mat-flat-button color="warn" (click)="onDeleteUser()" i18n>Nutzer lÃ¶schen</button>
      </app-dash-card>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="selectedUser" [colspan]="( layout | async )!.account.cols" [rowspan]="( layout | async )!.account.rows">
      <app-dash-card title="Konto">
        <!--ToDo: Form-->
        <div>
          <label for="user-name" i18n>Nutzername</label>
          <input id="user-name" [(ngModel)]="selectedUser.userName" placeholder="user_name">
          <br>
          <label for="user-first-name" i18n>Vorname</label>
          <input id="user-first-name" [(ngModel)]="selectedUser.firstName">
          <br>
          <label for="user-last-name" i18n>Nachname</label>
          <input id="user-last-name" [(ngModel)]="selectedUser.lastName">
          <br>
          <label for="user-email" i18n>E-Mail</label>
          <input id="user-email" [(ngModel)]="selectedUser.email">
        </div>
        <button (click)="onUpdateUser()" i18n>Speichern</button>
      </app-dash-card>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="selectedUser" [colspan]="( layout | async )!.dataAccess.cols" [rowspan]="( layout | async )!.dataAccess.rows">
      <app-dash-card title="Datenzugriff">
        <!--ToDo: Form-->
        <div>
        </div>
        <button (click)="onUpdateUser()" i18n>Speichern</button>
      </app-dash-card>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="selectedUser" [colspan]="( layout | async )!.permissions.cols" [rowspan]="( layout | async )!.permissions.rows">
      <app-dash-card title="Berechtigungen">
        <!--ToDo: Form-->
        <div>
          <br>
          <input id="user-admin-access" type="checkbox" [(ngModel)]="selectedUser.adminAccess">
          <label for="user-admin-access" i18n>Kann Seite administrieren</label>
          <br>
          <input id="user-can-edit" type="checkbox" [(ngModel)]="selectedUser.canEditData">
          <label for="user-can-edit" i18n>Kann Grundlagendaten editieren</label>
          <br>
          <input id="user-can-create-scenarios" type="checkbox" [(ngModel)]="selectedUser.canCreateScenarios">
          <label for="user-can-create-scenarios" i18n>Kann Szenarien anlegen</label>
        </div>
        <button (click)="onUpdateUser()" i18n>Speichern</button>
      </app-dash-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>


<!--ToDo: Form-->
<h2 i18n>Neuer Benutzer </h2>
<div>
  <label for="new-user-name" i18n>Nutzername</label>
  <input id="new-user-name" placeholder="user_name" [(ngModel)]="newUserName">
  <br>
  <label for="new-user-password" i18n>Passwort</label>
  <input id="new-user-password" type="password"  [(ngModel)]="newUserPassword">
  <br>
  <button (click)="onCreateUser()" i18n>Nutzer erstellen</button>
</div>
